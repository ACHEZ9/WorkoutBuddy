<p id="notice"><%= notice %></p>

<div class="container">
  <div class="row">
    <h1>All Events</h1>

    <div class="form-group">
    <%= form_tag events_path, :method => 'get', :id => "events_search" do %>
      <div class="col-md-8">
        <%= text_field_tag :search, params[:search] %>
      </div>
      <div class="col-md-4">
        <%= select_tag(:distance,
          options_for_select([["Any", ""], ["1 Mile", 1], ["10 Miles", 10], ["50 Miles", 50], ["1000 Miles", 1000]])) %>
      </div>
      </div>
      <div class="form-group">
        <div class="col-md-6 col-md-offset-3">
        <%= submit_tag "Search", :name => nil %>
      </div>
    <% end %>
    </div>
    </div>

<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th> <%= sortable "time", "Day" %> </th>
      <th> <%= sortable "name" %> </th>
      <th> <%= sortable "desc", "Description" %> </th>
      <th> <%= sortable "time" %> </th>
      <th> <%= sortable "location" %> </th>
      <th> <%= sortable "tags" %> </th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= event.time.strftime("%b %d, %Y") %></td>
        <td><%= event.name %></td>
        <td><%= event.desc %></td>
        <td><%= event.time.strftime("%I:%M%p") %></td>
        <td><%= event.location %></td>
        <td><%= event.tag_list %></td>
        <td><%= link_to 'Show', event, :class => 'btn btn-mini btn-info' %> </td>
        <td><%= link_to 'Attend', attend_path(event), method: :post, :class => 'btn btn-mini btn-danger'  %> </td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= will_paginate @events %>
<%= link_to 'New Event', new_event_path %>
